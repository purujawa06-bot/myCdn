<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pur.js Example</title>
    
    <!-- 1. Load TailwindCSS (CDN for development) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Konfigurasi Tailwind agar Mobile First & Modern -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1', // Indigo 500
                        secondary: '#ec4899', // Pink 500
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans antialiased">
    
    <!-- Root Container -->
    <div id="app"></div>

    <!-- 2. Logic Aplikasi -->
    <script type="module">
        import { Pur } from 'https://cdn.jsdelivr.net/gh/purujawa06-bot/myCdn/purNav/beta.js';

        // Shortcut untuk membuat elemen (Virtual DOM helper)
        const h = Pur.h;

        // --- COMPONENTS ---

        // Komponen Navbar (Reusable)
        const Navbar = (navigate) => {
            return h('nav', { class: 'fixed top-0 w-full bg-white shadow-sm z-50 p-4 flex justify-between items-center' }, [
                h('h1', { class: 'text-xl font-bold text-primary cursor-pointer', onClick: () => navigate('/') }, ['Pur.js App']),
                h('div', { class: 'space-x-4' }, [
                    h('button', { class: 'text-gray-600 hover:text-primary transition', onClick: () => navigate('/') }, ['Home']),
                    h('button', { class: 'text-gray-600 hover:text-primary transition', onClick: () => navigate('/about') }, ['About']),
                ])
            ]);
        };

        // Halaman Home
        const HomePage = (state, navigate) => {
            return {
                head: { title: 'Beranda - Pur.js', description: 'Halaman utama aplikasi SPA modern' },
                view: h('div', { class: 'min-h-screen pt-20' }, [
                    Navbar(navigate),
                    h('div', { class: 'container mx-auto px-4 py-10 text-center' }, [
                        h('div', { class: 'max-w-md mx-auto bg-white rounded-xl shadow-lg overflow-hidden md:max-w-2xl p-8 slide-up' }, [
                            h('h2', { class: 'text-3xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary' }, ['Selamat Datang']),
                            h('p', { class: 'text-gray-500 mb-6' }, ['Ini adalah contoh Single Page Application (SPA) menggunakan Pur.js dengan TailwindCSS. Cepat, Ringan, dan Mobile First.']),
                            h('button', { 
                                class: 'bg-primary text-white px-6 py-2 rounded-full hover:bg-indigo-600 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1',
                                onClick: () => alert('Hello Developer!') 
                            }, ['Klik Saya'])
                        ])
                    ])
                ])
            };
        };

        // Halaman About
        const AboutPage = (state, navigate) => {
            return {
                head: { title: 'Tentang - Pur.js', description: 'Pelajari tentang framework ini' },
                view: h('div', { class: 'min-h-screen pt-20' }, [
                    Navbar(navigate),
                    h('div', { class: 'container mx-auto px-4 py-10' }, [
                        h('div', { class: 'bg-white p-6 rounded-lg shadow-md border-l-4 border-secondary slide-up' }, [
                            h('h2', { class: 'text-2xl font-bold mb-2' }, ['Tentang Kami']),
                            h('p', { class: 'text-gray-600' }, ['Pur.js dibuat untuk memudahkan developer mengelola DOM tanpa kompleksitas React atau Vue, namun tetap modern.']),
                            h('div', { class: 'mt-4 grid grid-cols-1 md:grid-cols-2 gap-4' }, [
                                h('div', { class: 'p-4 bg-gray-100 rounded' }, ['Mobile First']),
                                h('div', { class: 'p-4 bg-gray-100 rounded' }, ['Virtual DOM']),
                            ])
                        ])
                    ])
                ])
            };
        };

        // --- INISIALISASI ---
        
        Pur.init({
            root: '#app',
            // Global State (bisa diakses di semua komponen)
            state: {
                user: 'Developer'
            },
            // Custom CSS (Plain CSS)
            css: `
                .slide-up { animation: slideUp 0.5s ease-out; }
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `,
            // Routing Map
            routes: {
                '/': HomePage,
                '/about': AboutPage,
                '404': (state, navigate) => ({
                    head: { title: 'Not Found' },
                    view: h('h1', { class: 'text-center mt-20 text-4xl text-red-500' }, ['404 - Halaman Tidak Ditemukan'])
                })
            }
        });

    </script>
</body>
</html>
